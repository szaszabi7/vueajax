(function(t){function n(n){for(var i,o,s=n[0],c=n[1],u=n[2],l=0,d=[];l<s.length;l++)o=s[l],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);p&&p(n);while(d.length)d.shift()();return r.push.apply(r,u||[]),e()}function e(){for(var t,n=0;n<r.length;n++){for(var e=r[n],i=!0,s=1;s<e.length;s++){var c=e[s];0!==a[c]&&(i=!1)}i&&(r.splice(n--,1),t=o(o.s=e[0]))}return t}var i={},a={app:0},r=[];function o(n){if(i[n])return i[n].exports;var e=i[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=t,o.c=i,o.d=function(t,n,e){o.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,n){if(1&n&&(t=o(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)o.d(e,i,function(n){return t[n]}.bind(null,i));return e},o.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(n,"a",n),n},o.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},o.p="/vueajax/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=n,s=s.slice();for(var u=0;u<s.length;u++)n(s[u]);var p=c;r.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"034f":function(t,n,e){"use strict";e("85ec")},"56d7":function(t,n,e){"use strict";e.r(n);e("e260"),e("e6cf"),e("cca6"),e("a79d");var i=e("2b0e"),a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("table",[t._m(0),e("tbody",[t._l(t.paintings,(function(n){return e("tr",{key:n.id},[e("td",[t._v(t._s(n.id))]),e("td",[t._v(t._s(n.title))]),e("td",[t._v(t._s(n.year))]),e("td",[t._v(t._s(n.on_display))]),e("td",[e("button",{on:{click:function(e){return t.deletePainting(n.id)}}},[t._v("Törlés")]),e("button",{on:{click:function(e){return t.editPainting(n.id)}}},[t._v("Szerkesztés")])])])})),e("tr",[e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.painting.id,expression:"painting.id"}],attrs:{type:"hidden"},domProps:{value:t.painting.id},on:{input:function(n){n.target.composing||t.$set(t.painting,"id",n.target.value)}}})]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.painting.title,expression:"painting.title"}],attrs:{type:"text"},domProps:{value:t.painting.title},on:{input:function(n){n.target.composing||t.$set(t.painting,"title",n.target.value)}}})]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.painting.year,expression:"painting.year"}],attrs:{type:"number"},domProps:{value:t.painting.year},on:{input:function(n){n.target.composing||t.$set(t.painting,"year",n.target.value)}}})]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.painting.on_display,expression:"painting.on_display"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.painting.on_display)?t._i(t.painting.on_display,null)>-1:t.painting.on_display},on:{change:function(n){var e=t.painting.on_display,i=n.target,a=!!i.checked;if(Array.isArray(e)){var r=null,o=t._i(e,r);i.checked?o<0&&t.$set(t.painting,"on_display",e.concat([r])):o>-1&&t.$set(t.painting,"on_display",e.slice(0,o).concat(e.slice(o+1)))}else t.$set(t.painting,"on_display",a)}}})]),e("td",[t.mod_new?e("button",{attrs:{disabled:t.saving},on:{click:t.newPainting}},[t._v("Létrehoz")]):t._e(),t.mod_new?t._e():e("button",{attrs:{disabled:t.saving},on:{click:t.savePainting}},[t._v("Mentés")]),t.mod_new?t._e():e("button",{attrs:{disabled:t.saving},on:{click:t.cancelEdit}},[t._v("Mégse")])])])],2)]),e("button",{on:{click:t.loadData}},[t._v("Adatok betöltése")])])},r=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("thead",[e("tr",[e("th",[t._v("Azonsító")]),e("th",[t._v("Cím")]),e("th",[t._v("Év")]),e("th",[t._v("Kiállítva(piros lap)")]),e("th",[t._v("Műveletek")])])])}],o=e("5530"),s=e("1da1"),c=(e("96cf"),e("d3b7"),e("e9c4"),{name:"App",components:{},data:function(){return{mod_new:!0,saving:!1,painting:{id:null,title:"",year:"",on_display:!1},paintings:[]}},methods:{loadData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var e,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,fetch("http://127.0.0.1:8000/api/paintings");case 2:return e=n.sent,n.next=5,e.json();case 5:i=n.sent,t.paintings=i;case 7:case"end":return n.stop()}}),n)})))()},deletePainting:function(t){var n=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://127.0.0.1:8000/api/paintings/".concat(t),{method:"DELETE"});case 2:return i=e.sent,console.log(i),e.next=6,n.loadData();case 6:case"end":return e.stop()}}),e)})))()},newPainting:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.saving="disabled",n.next=3,fetch("http://127.0.0.1:8000/api/paintings",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t.painting)});case 3:return n.next=5,t.loadData();case 5:t.saving=!1,t.resetForm();case 7:case"end":return n.stop()}}),n)})))()},savePainting:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.saving="disabled",n.next=3,fetch("http://127.0.0.1:8000/api/paintings/".concat(t.painting.id),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t.painting)});case 3:return n.next=5,t.loadData();case 5:t.saving=!1,t.resetForm();case 7:case"end":return n.stop()}}),n)})))()},editPainting:function(t){var n=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://127.0.0.1:8000/api/paintings/".concat(t));case 2:return i=e.sent,e.next=5,i.json();case 5:a=e.sent,n.painting=Object(o["a"])({},a),n.mod_new=!1;case 8:case"end":return e.stop()}}),e)})))()},cancelEdit:function(){this.resetForm()},resetForm:function(){this.painting={id:null,title:"",year:"",on_display:!1},this.mod_new=!0}},mounted:function(){this.loadData()}}),u=c,p=(e("034f"),e("2877")),l=Object(p["a"])(u,a,r,!1,null,null,null),d=l.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(d)}}).$mount("#app")},"85ec":function(t,n,e){}});
//# sourceMappingURL=app.184ab865.js.map